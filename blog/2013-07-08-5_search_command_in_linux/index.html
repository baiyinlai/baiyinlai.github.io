<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="personal blog, Notes, GitHub, Jekyll, baige5117, all for one, 个人博客, 个人网站, 学习笔记, Music, Picture, 励志成功, 开心一刻, 学习提升, 工具, 软件" />
    <meta name="description" content="Baige5117's personal website, mainly for recording and sharing, including blogs, sayings, music, photos and anything interesting." />
    <meta name="author" content="Baige5117" />
    <meta name="robots" content="all,index,follow" />
    <meta http-equiv="imagetoolbar" content="no" />
    <meta name="revisit-after" content="7 days" />
    <meta name="rating" content="general" />
    <meta name="distribution" content="global" />
    <title>Linux 下五大搜索命令</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="/css/style.css" />
    


    <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  </head>
  <body>
    <div id="top_menu">
  <div id="t_m_center">
    <div id="title">
      <a href="/" title="Home">
	<img id="hometip" src="/images/icons/home.png" alt="home" title="Home" />
      </a>
      <p>Love life, love sports, love to learn, & love...</p>
    </div>
    <ul id="top_nav">
      
       
      <li id="t_n_li">
	<a href="/blog/index.html" title="博文"><span class="db nav_bg nav_blog"></span></a>
      </li> 
      
       
      <li id="t_n_li">
	<a href="/sayings.html" title="言语"><span class="db nav_bg nav_sayings"></span></a>
      </li> 
      
       
      <li id="t_n_li">
	<a href="/music.html" title="音乐"><span class="db nav_bg nav_music"></span></a>
      </li> 
      
       
      <li id="t_n_li">
	<a href="/pictures.html" title="图片"><span class="db nav_bg nav_pictures"></span></a>
      </li> 
      
       
      <li id="t_n_li">
	<a href="/x.html" title="X"><span class="db nav_bg nav_x"></span></a>
      </li> 
      
       
      <li id="t_n_li">
	<a href="/about.html" title="关于"><span class="db nav_bg nav_about"></span></a>
      </li> 
      
    </ul>
  </div>
</div>

    <div id="page_title">
  <img src="/images/blog.png" id="p_t_img"/>
  <h2><a href="/blog/">Blog</a></h2>
  <p>Thought,&#160; done&#160; &&#160; record.</p>
  <div id="top_icons">
    <a href="#" title="订阅到QQ邮箱" target="_blank" ><img src="/images/icons/qq-24.png" alt="订阅到QQ邮箱" title="订阅到QQ邮箱" /></a>
    <a href="#" title="订阅到iGoogle或Google Reader" target="_blank"><img src="/images/icons/rss-24.png" alt="google reader" title="订阅到iGoogle或Google Reader" /></a>
    <a href="#" title="My Github" target="_blank"><img src="/images/icons/github-24.png" alt="google reader" title="My Github" /></a>
  </div>
  <div id="google_search"><!--Google站内搜索开始-->
    <form name="cse" id="searchbox_demo" action="/search.html">
      <input type="hidden" name="cref" value="" />
      <input type="hidden" name="ie" value="utf-8" />
      <input type="hidden" name="hl" value="zh-CN" />
      <input name="q" type="text" size="20" />
      <input type="submit" name="sa" value="Search" />
    </form>
    <!--script type="text/javascript" src="http://www.google.com/cse/tools/onthefly?form=searchbox_demo&lang=zh-CN"></script-->
  </div><!--Google站内搜索结束-->
</div>

    <div id="out_wrap">
      <div id="wrap">
	<div id="post_wrapper">
  <h1 class="post_title">Linux 下五大搜索命令</h1>
  <div id="post_info">
    <ul>
      <li class="p_i_bg date">2013-07-08</li>
      <li class="p_i_bg author">Baige5117</li>
      <li class="p_i_bg cat"><a href="/blog/categories.html#学习与提升">学习与提升</a></li>
      <li class="p_i_bg tag"><a href="/blog/tags.html#计算机">计算机&nbsp;&nbsp;</a><a href="/blog/tags.html#Linux">Linux&nbsp;&nbsp;</a></li>
      
    </ul>
  </div>
  <p>使用电脑的时候，经常需要查找文件。在Linux中，有很多方法可以做到这一点，下面对 linux 下的五大搜索命令进行简单的介绍。</p>

<h2>1. find</h2>

<p>find是最常见和最强大的查找命令，你可以用它找到任何你想找的文件。find命令可在使用、管理Linux系统中方便地查找所需要的指定文件。</p>

<p>find 的使用格式如下：</p>

<pre><code>$ find &lt;指定目录&gt; &lt;指定条件&gt; &lt;指定动作&gt;
</code></pre>

<p><strong>&lt;指定目录>：</strong>所要搜索的目录及其所有子目录。默认为当前目录。可以为一个目录列表，目录间用空格分隔。</p>

<p><strong>&lt;指定条件>：</strong>所要搜索的文件的特征。当要使用多个特征时可以用 -and 参数，也可以省略此参数用空格代替。常用的条件如下：</p>

<p>-name 文件名：告诉 find 要找什么文件，可以使用通配符（*和？）。</p>

<p>-type x：匹配所有类型为x的文件。x可以是是：f（一般文件），d（目录），c（字符特殊），b（块特殊），p（有名管道），l（符号连接），s（套接文件）。</p>

<p>-user：用户号：匹配所有用户序列号是前面所指定的用户序列号的文件，可以是数字型的值或用户登录名。</p>

<p>-amin n：查找n分钟内或外被访问过的所有文件。n可以有正负号，分别表示n分钟外、n分钟内被访问过的文件。下同。</p>

<p>-atime n：查找n天内或外被访问过的所有文件。</p>

<p>-cmin n：查找n分钟内或外文件状态被修改过的所有文件。</p>

<p>-ctime n：查找n天内或外文件状态被修改过的所有文件。</p>

<p>-mmin n：查找n分钟内或外文件内容被修改过的所有文件。</p>

<p>-mtime n：查找n天内或外文件内容被修改过的所有文件。</p>

<p>-newer：文件：匹配所有修改时间比file文件更新的文件。</p>

<p>-size n：匹配所有大小为n 块的文件（512字节块，若k在n后，则为1K字节块）。</p>

<p>-print：显示整个文件路径和名称。一般来说，都要用-print，如果没有这个参数，则find命令进行所要求的搜索是没有显示结果的。</p>

<p><strong>&lt;指定动作>：</strong>对搜索结果进行特定的处理。</p>

<p>如果什么参数也不加，find 默认搜索当前目录及其子目录，并且不过滤任何结果（也就是返回所有文件），将它们全都显示在屏幕上。</p>

<p><strong>find的使用实例：</strong></p>

<pre><code>$ find / -name myfile
</code></pre>

<p>在整个系统中搜索文件名为 myfile 的文件。</p>

<pre><code>$ find / -type d -name dirname
</code></pre>

<p>在整个系统中搜索名称为 dirname 的目录。</p>

<pre><code>$ find . -name my*
</code></pre>

<p>搜索当前目录（含子目录）中，所有文件名以 my 开头的文件。</p>

<pre><code>$ find . -name my* -ls
</code></pre>

<p>搜索当前目录中，所有文件名以 my 开头的文件，并显示它们的详细信息。</p>

<pre><code>$ find . -type f -mmin -10
</code></pre>

<p>搜索当前目录中，所有过去10分钟内更新过的普通文件。如果不加 -type f 参数，则搜索普通文件、特殊文件以及目录。</p>

<pre><code>$ find /var/spool -mtime +60
</code></pre>

<p>搜索 /var/spool 目录中，在 60 天之前修改过的文件。</p>

<pre><code>$ find /etc –size -2500c –print
</code></pre>

<p>搜索 /etc 目录下文件大小小于 2500 字节的文件。</p>

<pre><code>$ find / -type f -name "*.log" | xargs grep "ERROR"
</code></pre>

<p>从根目录开始查找所有扩展名为.log的文本文件，并找出包含”ERROR”的行。</p>

<p><strong>无错误查找技巧：</strong></p>

<p>在 Linux 系统中 find 命令是大多数系统用户都可以使用的命令， 并不是 ROOT 系统管理员的专利。但是普通用户使用“find”命令时也有可能遇到这样的问题，那就是 Linux 系统中系统管理员 ROOT 可以把某些文件目录设置成禁止访问模式。这样普通用户就没有权限用 find 命令来查询这些目录或者文件。当普通用户使用 find 命令来查询这些文件目录是，往往会出现 "Permission denied."（禁止访问）字样。 系统将无法查询到你想要的文件。为了避免这样的错误，我们可是使用转移错误提示的方法尝试着查找文件，即在后面加上 “2>/dev/null” 参数。例如：</p>

<pre><code>$ find / -name access_log 2&gt;/dev/null
</code></pre>

<p>这个方法是把查找错误提示转移到特定的目录中去。系统执行这个命令后，遇到错误的信息就直接输送到 stderrstream 2 中，2 就是表明系统将把错误信息输送到 stderrstream 2 中，/dev/null 是一个特殊的文件，表明空的或者错误的信息，这样查询到的错误信息将被转移了，不会再显示了。</p>

<h2>2. locate</h2>

<p>locate 命令其实是 “find -name” 的另一种写法，但是要比后者快得多，原因在于它不搜索具体目录，而是搜索一个数据库 /var/lib/locatedb，这个数据库中含有本地所有文件信息。Linux 系统自动创建这个数据库，并且每天自动更新一次，所以使用 locate 命令查不到最新变动过的文件。为了避免这种情况，可 以在使用 locate 之前，先使用 updatedb 命令，手动更新数据库。</p>

<p><strong>locate 命令的使用实例：</strong></p>

<pre><code>$ locate /etc/sh
</code></pre>

<p>搜索 etc 目录下所有以 sh 开头的文件。</p>

<pre><code>$ locate ~/m
</code></pre>

<p>搜索用户主目录下，所有以 m开头的文件。</p>

<pre><code>$ locate -i ~/m
</code></pre>

<p>搜索用户主目录下，所有以 m 开头的文件，并且忽略大小写。</p>

<h2>3. whereis</h2>

<p>whereis 命令只能用于程序名的搜索，而且只搜索二进制文件（参数-b）、man 说明文件（参数-m）和源代码文件（参数-s）。如果省略参数，则返回所有信息。</p>

<p><strong>whereis 命令的使用实例：</strong></p>

<pre><code>$ whereis grep
</code></pre>

<p>搜索 grep 命令所在的目录。</p>

<h2>4. which</h2>

<p>which 命令的作用是，在 PATH 变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果。也就是说，使用 which 命令，就可以看到某个系统命令是否存在，以及执行的到底是哪一个位置的命令。</p>

<p><strong>which 命令的使用实例：</strong></p>

<pre><code>$ which grep
</code></pre>

<h2>5. type</h2>

<p>type 命令其实不能算查找命令，它是用来区分某个命令到底是由 shell 自带的，还是由 shell 外部的独立二进制文件提供的。如果一个命令是外部命令，那么使用 -p 参数，会显示该命令的路径，相当于 which 命令。</p>

<p><strong>type 命令的使用实例：</strong></p>

<pre><code>$ type cd
</code></pre>

<p>系统会提示，cd 是 shell 的自带命令（build-in）。</p>

<pre><code>$ type grep
</code></pre>

<p>系统会提示，grep 是一个外部命令，并显示该命令的路径。</p>

<pre><code>$ type -p grep
</code></pre>

<p>加上 -p 参数后，就相当于 which 命令。</p>

  <div id="post_nxpr">
    <ul>
      
      <li id="post_pre">
	<span class="emphasize_zh">上一篇：</span> 
	<a rel="prev" href="/blog/2013-06-13-how_to_be_a_hacker" title="如何成为一名黑客">如何成为一名黑客</a>
      </li>
      
      
      <li id="post_next">
	<span class="emphasize_zh">下一篇：</span>
	<a rel="next" href="/blog/2013-07-08-lady_%26_bird" title="Lady & Bird">Lady & Bird</a>
      </li>
      
    </ul>
  </div>
</div> 

      </div><!--End_wrap-->
    </div>
    <div id="footer">
<div class="bottom_nav"><a href="/">Home</a> &#160;&#124;&#160; <a href="/blog/index.html">Blog</a> &#160;&#124;&#160; <a href="/sayings.html">Sayings</a> &#160;&#124;&#160; <a href="/music.html">Music</a> &#160;&#124;&#160; <a href="/pictures.html">Pictures</a> &#160;&#124;&#160; <a href="/x.html">X</a> &#160;&#124;&#160; <a href="/about.html">About</a></div>

<div class="copyright">Copyright &#169; 2011-2013 by <a href="/index.html">Baige5117</a>. All Rights Reserved</div>
</div>
<div id="gotop">回顶部</div>
<script type="text/javascript" src="/js/gotop.js"></script>

    <!--以下为百度统计代码-->
    <script type="text/javascript">
      var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
      document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fb145740af16f12510a2d43b45804e638' type='text/javascript'%3E%3C/script%3E"));
    </script>
    
  </body>
</html>


