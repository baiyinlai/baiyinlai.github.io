<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="personal blog, Notes, GitHub, Jekyll, baige5117, all for one, 个人博客, 个人网站, 学习笔记, Music, Picture, 励志成功, 开心一刻, 学习提升, 工具, 软件" />
    <meta name="description" content="Baige5117's personal website, mainly for recording and sharing, including blogs, sayings, music, photos and anything interesting." />
    <meta name="author" content="Baige5117" />
    <meta name="robots" content="all,index,follow" />
    <meta http-equiv="imagetoolbar" content="no" />
    <meta name="revisit-after" content="7 days" />
    <meta name="rating" content="general" />
    <meta name="distribution" content="global" />
    <title>FreeCAD的使用</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="/css/style.css" />
    


    <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  </head>
  <body>
    <div id="top_menu">
  <div id="t_m_center">
    <div id="title">
      <a href="/" title="Home">
	<img id="hometip" src="/images/icons/home.png" alt="home" title="Home" />
      </a>
      <p>Love life, love sports, love to learn, & love...</p>
    </div>
    <ul id="top_nav">
      
       
      <li id="t_n_li">
	<a href="/blog/index.html" title="博文"><span class="db nav_bg nav_blog"></span></a>
      </li> 
      
       
      <li id="t_n_li">
	<a href="/sayings.html" title="言语"><span class="db nav_bg nav_sayings"></span></a>
      </li> 
      
       
      <li id="t_n_li">
	<a href="/music.html" title="音乐"><span class="db nav_bg nav_music"></span></a>
      </li> 
      
       
      <li id="t_n_li">
	<a href="/pictures.html" title="图片"><span class="db nav_bg nav_pictures"></span></a>
      </li> 
      
       
      <li id="t_n_li">
	<a href="/x.html" title="X"><span class="db nav_bg nav_x"></span></a>
      </li> 
      
       
      <li id="t_n_li">
	<a href="/about.html" title="关于"><span class="db nav_bg nav_about"></span></a>
      </li> 
      
    </ul>
  </div>
</div>

    <div id="page_title">
  <img src="/images/blog.png" id="p_t_img"/>
  <h2><a href="/blog/">Blog</a></h2>
  <p>Thought,&#160; done&#160; &&#160; record.</p>
  <div id="top_icons">
    <a href="#" title="订阅到QQ邮箱" target="_blank" ><img src="/images/icons/qq-24.png" alt="订阅到QQ邮箱" title="订阅到QQ邮箱" /></a>
    <a href="#" title="订阅到iGoogle或Google Reader" target="_blank"><img src="/images/icons/rss-24.png" alt="google reader" title="订阅到iGoogle或Google Reader" /></a>
    <a href="#" title="My Github" target="_blank"><img src="/images/icons/github-24.png" alt="google reader" title="My Github" /></a>
  </div>
  <div id="google_search"><!--Google站内搜索开始-->
    <form name="cse" id="searchbox_demo" action="/search.html">
      <input type="hidden" name="cref" value="" />
      <input type="hidden" name="ie" value="utf-8" />
      <input type="hidden" name="hl" value="zh-CN" />
      <input name="q" type="text" size="20" />
      <input type="submit" name="sa" value="Search" />
    </form>
    <!--script type="text/javascript" src="http://www.google.com/cse/tools/onthefly?form=searchbox_demo&lang=zh-CN"></script-->
  </div><!--Google站内搜索结束-->
</div>

    <div id="out_wrap">
      <div id="wrap">
	<div id="post_wrapper">
  <h1 class="post_title">FreeCAD的使用</h1>
  <div id="post_info">
    <ul>
      <li class="p_i_bg date">2012-12-04</li>
      <li class="p_i_bg author">Baige5117</li>
      <li class="p_i_bg cat"><a href="/blog/categories.html#工具与软件">工具与软件</a></li>
      <li class="p_i_bg tag"><a href="/blog/tags.html#机械">机械&nbsp;&nbsp;</a><a href="/blog/tags.html#CAD">CAD&nbsp;&nbsp;</a></li>
      <li class="p_i_bg link"><a href="http://www.freecadweb.org/wiki/index.php?title=Macros" target="_blank">FreeCAD官方网站</a></li>
    </ul>
  </div>
  <h2>FreeCAD 简介</h2>

<p>FreeCAD 是一款参数化三维建模工具，其以参数化特征建模为核心功能，基于模块化的软件架构而实现，可在不改动系统核心的的前提下进行高级功能扩展和定制。其主要应用于机械工程与产品设计领域，当然也适用于诸如建筑等工程领域。</p>

<p>FreeCAD 建立于强大的几何核心 OpenCasCade 之上，采用 Coin 3D 提供的与 Open Inventor 兼容的三维场景模型，并提供丰富的 Python 应用程序接口，其图形交互界面基于 Qt 实现。</p>

<p>FreeCAD 也是一款开源软件，完全遵循 Open Source(GPL &amp; LGPL License)协议。而且完全跨平台使用，目前能够完美地在 Windows, Mac OS X 与 Linux 平台上运行且具有完全一致的用户交互界面和功能。</p>

<p>但是，FC 仍然处于初级开发阶段，因此无法完成一些高级任务。尽管如此，对于一些初级操作以及那些想深入学习建模原理的用户，FC 还是值得学习和使用。</p>

<p align="center"><img width="600px" height="478px" src="/blog/media/fc_complete.jpg" alt="FreeCAD主界面" title="FreeCAD主界面" /></p>




<p class="figcaption">图 1 FreeCAD主界面</p>


<h2>宏（Macros）</h2>

<p>FreeCAD 中的宏，简单的说，就是由一系列操作命令组成的脚本文件，用户可以通过一个简单的宏文件就可以“一步”创作出一个复杂的操作。由于 FreeCAD 自身是由 Python 语言开发的，所以这里的宏文件当然也就是用 python 脚本语言编写的，python 命令再加上 FreeCAD 系统本身的 API 函数，就可以编制一些列复杂的操作。</p>

<h3>制作宏</h3>

<p>两种制作宏的方法：</p>

<h4>1、录制宏：</h4>

<p>在 FreeCAD 图形界面中，由鼠标和键盘等通过菜单命令、工具栏工具等来进行一系列操作，并将这一些列操作过程录制下来，从而制作出宏。</p>

<p>录制宏操作的主要工具集中在宏工具栏中<img src="/blog/media/fc_macro_01.jpg" alt="宏工具栏" style="vertical-align:middle" title="宏工具栏"\>。从左向右依次为：录制(Record)，停止录制(Stop Recording)，编辑宏(Edit)，执行宏(Play)。操作很简单，首先点击“录制”按钮，输入宏名称，开始录制操作过程，然后在图形界面中进行一系列的操作，等操作结束，点击“停止录制”按钮结束宏录制，此时，宏文件就制作完成，此时可以打开“编辑宏”对话框，如图 1 所示，选择录制的宏，然后选择“Execute”执行宏操作。</p>

<p align="center"><img src="/blog/media/fc_macros-02.png" alt="编辑宏对话框" title="编辑宏对话框" /></p>




<p class="figcaption">图 1 宏编辑对话框</p>


<p>FreeCAD 默认的宏文件目录为 HOME/.FreeCAD/ 目录，可以修改，修改方法为：在“编辑宏”对话框中的下方“Macro destination”中可以修改宏目录，此时打开一个目录选择对话框，不过其中只显示非隐藏目录，对于 FreeCAD 默认的目录来说无法选择，此时可以在对话框中间的空白处鼠标右键选择“show hidden files”即可查看并选择系统隐藏文件及目录。</p>

<p>此方法简单快捷，但是不能制作出复杂的宏，比如自定义的一些复杂操作。</p>

<h4>2、手动编写宏文件</h4>

<p>利用 python 语句和 FreeCAD 系统中的 API 函数，按照 python 语法规则，编写符合要求的宏文件，即脚本文件。FreeCAD 默认的宏文件后缀名为 .FCMacro，但是后缀名也可是 .py，比如 file.py，但是在自定义宏命令时智能使用默认后缀名。</p>

<h3>自定义宏命令</h3>

<p>要想执行一个宏，首先得点击“编辑”按钮，在对话框中选择相应的宏文件，然后点击“Execute”按钮执行宏。此过程有点繁琐，可以通过自定义操作来创造一个宏的快捷键或显示在工具栏中的快捷图标来简化此操作。方法如下：</p>

<p>首先得编写好一个宏文件，后缀必须为 .FCMacro，否则自定义中无法识别宏文件。菜单栏“Tools”-“Customize”，在“Macros”选项卡中分别选择相应的宏文件，添加菜单信息，提示信息等，并可以选择按钮图标（可以自己制作一个svg格式的矢量图），如图 2 所示。添加完相关信息之后点击“Add”即可添加一个宏命令，如图 3 所示：</p>

<p align="center"><img src="/blog/media/fc_macros-03.png" alt="自定义宏命令" title="自定义宏命令" /></p>




<p class="figcaption">图 2 自定义宏对话框 1</p>




<p align="center"><img src="/blog/media/fc_macros-04.png" alt="自定义宏命令" title="自定义宏命令" /></p>




<p class="figcaption">图 3 自定义宏对话框 2</p>


<p>然后需要将此宏命令添加到工具栏中。在“Toolbars”选项卡中，先在左边的下拉列表中选择“Macros”（注意：是“Macros”而不是“Macro”），此时会出现刚添加的宏命令，选择此宏命令；然后在右边的下拉菜单中选择一个工作空间，比如“Start”，如果以前没有新建过自定义工具栏，则此时没有可以选择的工具栏，如图 4 所示，那么就需要首先新建一个工具栏“New...”，然后选择新建的工具栏（如果工具栏前面有个加号表示此工具栏已经有工具命令了，需要点击加号打开工具栏），然后点击中间的“右向箭头按钮”将左侧的宏命令添加到自定义的工具栏中，如图 5 所示：</p>

<p align="center"><img src="/blog/media/fc_macros-05.png" alt="自定义宏命令工具栏" title="自定义宏命令工具栏" /></p>




<p class="figcaption">图 4 自定义宏工具栏 1</p>




<p align="center"><img src="/blog/media/fc_macros-06.png" alt="自定义宏命令工具栏" title="自定义宏命令工具栏" /></p>




<p class="figcaption">图 5 自定义宏工具栏 2</p>


<p>OK，任务完成，需要重新启动相应的工作空间才可生效。当然也可以将需要的一些工具添加到此自定义工具栏中，比如测量工具。最终生成的自定义工具栏为：<img src="/blog/media/fc_macros-07.jpg" alt="自定义宏工具栏" style="vertical-align:middle" title="自定义宏工具栏"\>。</p>

<p>这样当开启 FreeCAD 后在相应的工作空间的工具栏中就可以发现自定义的一个宏命令了，点击一下就可以运行宏文件做相应的操作了。</p>

  <div id="post_nxpr">
    <ul>
      
      <li id="post_pre">
	<span class="emphasize_zh">上一篇：</span> 
	<a rel="prev" href="/blog/2012-11-24-%E6%9C%BA%E6%A2%B0%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E7%BA%A7%E5%88%AB" title="机械工程师的级别">机械工程师的级别</a>
      </li>
      
      
      <li id="post_next">
	<span class="emphasize_zh">下一篇：</span>
	<a rel="next" href="/blog/2012-12-04-the_basic_usage_of_grep_in_linux" title="Linux 中 Grep 命令使用方法">Linux 中 Grep 命令使用方法</a>
      </li>
      
    </ul>
  </div>
</div> 

      </div><!--End_wrap-->
    </div>
    <div id="footer">
<div class="bottom_nav"><a href="/">Home</a> &#160;&#124;&#160; <a href="/blog/index.html">Blog</a> &#160;&#124;&#160; <a href="/sayings.html">Sayings</a> &#160;&#124;&#160; <a href="/music.html">Music</a> &#160;&#124;&#160; <a href="/pictures.html">Pictures</a> &#160;&#124;&#160; <a href="/x.html">X</a> &#160;&#124;&#160; <a href="/about.html">About</a></div>

<div class="copyright">Copyright &#169; 2011-2013 by <a href="/index.html">Baige5117</a>. All Rights Reserved</div>
</div>
<div id="gotop">回顶部</div>
<script type="text/javascript" src="/js/gotop.js"></script>

    <!--以下为百度统计代码-->
    <script type="text/javascript">
      var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
      document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fb145740af16f12510a2d43b45804e638' type='text/javascript'%3E%3C/script%3E"));
    </script>
    
  </body>
</html>


